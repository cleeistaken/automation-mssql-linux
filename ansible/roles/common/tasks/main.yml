---
- name: Print distribution
  ansible.builtin.debug:
    msg: "The system distribution is: {{ ansible_distribution }}"

- name: Print distribution
  ansible.builtin.debug:
    msg: |
      Upgrade packages: {{ system_upgrade_all_packages }}
      Create hosts file: {{ system_hosts_file_create }}
      Disable firewall: {{ system_firewall_disable }}
      Disable SELinux: {{ system_selinux_disable }}
      Extend OS LVM: {{ system_extend_os_lvm }}
      Mount data disks: {{ system_mount_data_disks }}
      Create user account: {{ system_user_create }}

- name: Upgrade all system packages
  import_tasks: upgrade_system_packages.yml
  when: system_upgrade_all_packages | default(DEFAULT_SYSTEM_UPGRADE_ALL_PACKAGES)

- name: Update hosts file
  import_tasks: update_hosts_file.yml
  when: system_hosts_file_create | default(DEFAULT_SYSTEM_HOSTS_FILE_CREATE)

- name: Disable firewall
  import_tasks: disable_firewall.yml
  when: system_firewall_disable | default(DEFAULT_SYSTEM_FIREWALL_DISABLE)

- name: Disable SELinux
  import_tasks: disable_selinux.yml
  when: system_selinux_disable | default(DEFAULT_SYSTEM_SELINUX_DISABLE)

- name: Extend OS LVM
  import_tasks: extend_os_lvm.yml
  when: system_extend_os_lvm | default(DEFAULT_SYSTEM_EXTEND_OS_LVM)

- name: Partition, format, and mount data disks
  import_tasks: create_data_disks.yml
  when: system_mount_data_disks | default(DEFAULT_SYSTEM_MOUNT_DATA_DISKS)

- name: Create user account
  import_tasks: create_system_user.yml
  when: system_create_user | default(DEFAULT_SYSTEM_CREATE_USER)
